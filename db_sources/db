-- DROP SCHEMA HumanResources;

CREATE SCHEMA HumanResources;
-- AdventureWorks2022_TRANS.HumanResources.Department definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.HumanResources.Department;

CREATE TABLE AdventureWorks2022_TRANS.HumanResources.Department (
	DepartmentID smallint IDENTITY(1,1) NOT NULL,
	Name Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	GroupName Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_Department_DepartmentID PRIMARY KEY (DepartmentID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_Department_Name ON AdventureWorks2022_TRANS.HumanResources.Department (Name);


-- AdventureWorks2022_TRANS.HumanResources.Shift definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.HumanResources.Shift;

CREATE TABLE AdventureWorks2022_TRANS.HumanResources.Shift (
	ShiftID tinyint IDENTITY(1,1) NOT NULL,
	Name Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	StartTime time NOT NULL,
	EndTime time NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_Shift_ShiftID PRIMARY KEY (ShiftID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_Shift_Name ON AdventureWorks2022_TRANS.HumanResources.Shift (Name);
CREATE UNIQUE NONCLUSTERED INDEX AK_Shift_StartTime_EndTime ON AdventureWorks2022_TRANS.HumanResources.Shift (StartTime, EndTime);


-- AdventureWorks2022_TRANS.HumanResources.Employee definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.HumanResources.Employee;

CREATE TABLE AdventureWorks2022_TRANS.HumanResources.Employee (
	BusinessEntityID int NOT NULL,
	NationalIDNumber nvarchar(15) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	LoginID nvarchar(256) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	OrganizationNode hierarchyid NULL,
	OrganizationLevel AS ([OrganizationNode].[GetLevel]()),
	JobTitle nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	BirthDate date NOT NULL,
	MaritalStatus nchar(1) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	Gender nchar(1) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	HireDate date NOT NULL,
	SalariedFlag Flag DEFAULT 1 NOT NULL,
	VacationHours smallint DEFAULT 0 NOT NULL,
	SickLeaveHours smallint DEFAULT 0 NOT NULL,
	CurrentFlag Flag DEFAULT 1 NOT NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_Employee_BusinessEntityID PRIMARY KEY (BusinessEntityID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_Employee_LoginID ON AdventureWorks2022_TRANS.HumanResources.Employee (LoginID);
CREATE UNIQUE NONCLUSTERED INDEX AK_Employee_NationalIDNumber ON AdventureWorks2022_TRANS.HumanResources.Employee (NationalIDNumber);
CREATE UNIQUE NONCLUSTERED INDEX AK_Employee_rowguid ON AdventureWorks2022_TRANS.HumanResources.Employee (rowguid);
CREATE NONCLUSTERED INDEX IX_Employee_OrganizationLevel_OrganizationNode ON AdventureWorks2022_TRANS.HumanResources.Employee (OrganizationLevel, OrganizationNode);
CREATE NONCLUSTERED INDEX IX_Employee_OrganizationNode ON AdventureWorks2022_TRANS.HumanResources.Employee (OrganizationNode);
ALTER TABLE AdventureWorks2022_TRANS.HumanResources.Employee WITH NOCHECK ADD CONSTRAINT CK_Employee_BirthDate CHECK (([BirthDate]>='1930-01-01' AND [BirthDate]<=dateadd(year,(-18),getdate())));
ALTER TABLE AdventureWorks2022_TRANS.HumanResources.Employee WITH NOCHECK ADD CONSTRAINT CK_Employee_MaritalStatus CHECK ((upper([MaritalStatus])='S' OR upper([MaritalStatus])='M'));
ALTER TABLE AdventureWorks2022_TRANS.HumanResources.Employee WITH NOCHECK ADD CONSTRAINT CK_Employee_HireDate CHECK (([HireDate]>='1996-07-01' AND [HireDate]<=dateadd(day,(1),getdate())));
ALTER TABLE AdventureWorks2022_TRANS.HumanResources.Employee WITH NOCHECK ADD CONSTRAINT CK_Employee_Gender CHECK ((upper([Gender])='F' OR upper([Gender])='M'));
ALTER TABLE AdventureWorks2022_TRANS.HumanResources.Employee WITH NOCHECK ADD CONSTRAINT CK_Employee_VacationHours CHECK (([VacationHours]>=(-40) AND [VacationHours]<=(240)));
ALTER TABLE AdventureWorks2022_TRANS.HumanResources.Employee WITH NOCHECK ADD CONSTRAINT CK_Employee_SickLeaveHours CHECK (([SickLeaveHours]>=(0) AND [SickLeaveHours]<=(120)));


-- AdventureWorks2022_TRANS.HumanResources.EmployeeDepartmentHistory definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.HumanResources.EmployeeDepartmentHistory;

CREATE TABLE AdventureWorks2022_TRANS.HumanResources.EmployeeDepartmentHistory (
	BusinessEntityID int NOT NULL,
	DepartmentID smallint NOT NULL,
	ShiftID tinyint NOT NULL,
	StartDate date NOT NULL,
	EndDate date NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_EmployeeDepartmentHistory_BusinessEntityID_StartDate_DepartmentID PRIMARY KEY (BusinessEntityID,StartDate,DepartmentID,ShiftID)
);
CREATE NONCLUSTERED INDEX IX_EmployeeDepartmentHistory_DepartmentID ON AdventureWorks2022_TRANS.HumanResources.EmployeeDepartmentHistory (DepartmentID);
CREATE NONCLUSTERED INDEX IX_EmployeeDepartmentHistory_ShiftID ON AdventureWorks2022_TRANS.HumanResources.EmployeeDepartmentHistory (ShiftID);
ALTER TABLE AdventureWorks2022_TRANS.HumanResources.EmployeeDepartmentHistory WITH NOCHECK ADD CONSTRAINT CK_EmployeeDepartmentHistory_EndDate CHECK (([EndDate]>=[StartDate] OR [EndDate] IS NULL));


-- AdventureWorks2022_TRANS.HumanResources.EmployeePayHistory definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.HumanResources.EmployeePayHistory;

CREATE TABLE AdventureWorks2022_TRANS.HumanResources.EmployeePayHistory (
	BusinessEntityID int NOT NULL,
	RateChangeDate datetime NOT NULL,
	Rate money NOT NULL,
	PayFrequency tinyint NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_EmployeePayHistory_BusinessEntityID_RateChangeDate PRIMARY KEY (BusinessEntityID,RateChangeDate)
);
ALTER TABLE AdventureWorks2022_TRANS.HumanResources.EmployeePayHistory WITH NOCHECK ADD CONSTRAINT CK_EmployeePayHistory_PayFrequency CHECK (([PayFrequency]=(2) OR [PayFrequency]=(1)));
ALTER TABLE AdventureWorks2022_TRANS.HumanResources.EmployeePayHistory WITH NOCHECK ADD CONSTRAINT CK_EmployeePayHistory_Rate CHECK (([Rate]>=(6.50) AND [Rate]<=(200.00)));


-- AdventureWorks2022_TRANS.HumanResources.JobCandidate definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.HumanResources.JobCandidate;

CREATE TABLE AdventureWorks2022_TRANS.HumanResources.JobCandidate (
	JobCandidateID int IDENTITY(1,1) NOT NULL,
	BusinessEntityID int NULL,
	Resume xml NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_JobCandidate_JobCandidateID PRIMARY KEY (JobCandidateID)
);
CREATE NONCLUSTERED INDEX IX_JobCandidate_BusinessEntityID ON AdventureWorks2022_TRANS.HumanResources.JobCandidate (BusinessEntityID);


-- AdventureWorks2022_TRANS.HumanResources.Employee foreign keys

ALTER TABLE AdventureWorks2022_TRANS.HumanResources.Employee ADD CONSTRAINT FK_Employee_Person_BusinessEntityID FOREIGN KEY (BusinessEntityID) REFERENCES AdventureWorks2022_TRANS.Person.Person(BusinessEntityID);


-- AdventureWorks2022_TRANS.HumanResources.EmployeeDepartmentHistory foreign keys

ALTER TABLE AdventureWorks2022_TRANS.HumanResources.EmployeeDepartmentHistory ADD CONSTRAINT FK_EmployeeDepartmentHistory_Department_DepartmentID FOREIGN KEY (DepartmentID) REFERENCES AdventureWorks2022_TRANS.HumanResources.Department(DepartmentID);
ALTER TABLE AdventureWorks2022_TRANS.HumanResources.EmployeeDepartmentHistory ADD CONSTRAINT FK_EmployeeDepartmentHistory_Employee_BusinessEntityID FOREIGN KEY (BusinessEntityID) REFERENCES AdventureWorks2022_TRANS.HumanResources.Employee(BusinessEntityID);
ALTER TABLE AdventureWorks2022_TRANS.HumanResources.EmployeeDepartmentHistory ADD CONSTRAINT FK_EmployeeDepartmentHistory_Shift_ShiftID FOREIGN KEY (ShiftID) REFERENCES AdventureWorks2022_TRANS.HumanResources.Shift(ShiftID);


-- AdventureWorks2022_TRANS.HumanResources.EmployeePayHistory foreign keys

ALTER TABLE AdventureWorks2022_TRANS.HumanResources.EmployeePayHistory ADD CONSTRAINT FK_EmployeePayHistory_Employee_BusinessEntityID FOREIGN KEY (BusinessEntityID) REFERENCES AdventureWorks2022_TRANS.HumanResources.Employee(BusinessEntityID);


-- AdventureWorks2022_TRANS.HumanResources.JobCandidate foreign keys

ALTER TABLE AdventureWorks2022_TRANS.HumanResources.JobCandidate ADD CONSTRAINT FK_JobCandidate_Employee_BusinessEntityID FOREIGN KEY (BusinessEntityID) REFERENCES AdventureWorks2022_TRANS.HumanResources.Employee(BusinessEntityID);


-- DROP SCHEMA Person;

CREATE SCHEMA Person;
-- AdventureWorks2022_TRANS.Person.AddressType definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Person.AddressType;

CREATE TABLE AdventureWorks2022_TRANS.Person.AddressType (
	AddressTypeID int IDENTITY(1,1) NOT NULL,
	Name Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_AddressType_AddressTypeID PRIMARY KEY (AddressTypeID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_AddressType_Name ON AdventureWorks2022_TRANS.Person.AddressType (Name);
CREATE UNIQUE NONCLUSTERED INDEX AK_AddressType_rowguid ON AdventureWorks2022_TRANS.Person.AddressType (rowguid);


-- AdventureWorks2022_TRANS.Person.BusinessEntity definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Person.BusinessEntity;

CREATE TABLE AdventureWorks2022_TRANS.Person.BusinessEntity (
	BusinessEntityID int IDENTITY(1,1) NOT NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_BusinessEntity_BusinessEntityID PRIMARY KEY (BusinessEntityID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_BusinessEntity_rowguid ON AdventureWorks2022_TRANS.Person.BusinessEntity (rowguid);


-- AdventureWorks2022_TRANS.Person.ContactType definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Person.ContactType;

CREATE TABLE AdventureWorks2022_TRANS.Person.ContactType (
	ContactTypeID int IDENTITY(1,1) NOT NULL,
	Name Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_ContactType_ContactTypeID PRIMARY KEY (ContactTypeID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_ContactType_Name ON AdventureWorks2022_TRANS.Person.ContactType (Name);


-- AdventureWorks2022_TRANS.Person.CountryRegion definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Person.CountryRegion;

CREATE TABLE AdventureWorks2022_TRANS.Person.CountryRegion (
	CountryRegionCode nvarchar(3) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	Name Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_CountryRegion_CountryRegionCode PRIMARY KEY (CountryRegionCode)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_CountryRegion_Name ON AdventureWorks2022_TRANS.Person.CountryRegion (Name);


-- AdventureWorks2022_TRANS.Person.PhoneNumberType definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Person.PhoneNumberType;

CREATE TABLE AdventureWorks2022_TRANS.Person.PhoneNumberType (
	PhoneNumberTypeID int IDENTITY(1,1) NOT NULL,
	Name Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_PhoneNumberType_PhoneNumberTypeID PRIMARY KEY (PhoneNumberTypeID)
);


-- AdventureWorks2022_TRANS.Person.Person definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Person.Person;

CREATE TABLE AdventureWorks2022_TRANS.Person.Person (
	BusinessEntityID int NOT NULL,
	PersonType nchar(2) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	NameStyle NameStyle DEFAULT 0 NOT NULL,
	Title nvarchar(8) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	FirstName Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	MiddleName Name COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	LastName Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	Suffix nvarchar(10) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	EmailPromotion int DEFAULT 0 NOT NULL,
	AdditionalContactInfo xml NULL,
	Demographics xml NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_Person_BusinessEntityID PRIMARY KEY (BusinessEntityID),
	CONSTRAINT FK_Person_BusinessEntity_BusinessEntityID FOREIGN KEY (BusinessEntityID) REFERENCES AdventureWorks2022_TRANS.Person.BusinessEntity(BusinessEntityID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_Person_rowguid ON AdventureWorks2022_TRANS.Person.Person (rowguid);
CREATE NONCLUSTERED INDEX IX_Person_LastName_FirstName_MiddleName ON AdventureWorks2022_TRANS.Person.Person (LastName, FirstName, MiddleName);
CREATE INDEX PXML_Person_AddContact ON AdventureWorks2022_TRANS.Person.Person (AdditionalContactInfo);
CREATE INDEX PXML_Person_Demographics ON AdventureWorks2022_TRANS.Person.Person (Demographics);
CREATE INDEX XMLPATH_Person_Demographics ON AdventureWorks2022_TRANS.Person.Person (Demographics);
CREATE INDEX XMLPROPERTY_Person_Demographics ON AdventureWorks2022_TRANS.Person.Person (Demographics);
CREATE INDEX XMLVALUE_Person_Demographics ON AdventureWorks2022_TRANS.Person.Person (Demographics);
ALTER TABLE AdventureWorks2022_TRANS.Person.Person WITH NOCHECK ADD CONSTRAINT CK_Person_EmailPromotion CHECK (([EmailPromotion]>=(0) AND [EmailPromotion]<=(2)));
ALTER TABLE AdventureWorks2022_TRANS.Person.Person WITH NOCHECK ADD CONSTRAINT CK_Person_PersonType CHECK (([PersonType] IS NULL OR (upper([PersonType])='GC' OR upper([PersonType])='SP' OR upper([PersonType])='EM' OR upper([PersonType])='IN' OR upper([PersonType])='VC' OR upper([PersonType])='SC')));


-- AdventureWorks2022_TRANS.Person.PersonPhone definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Person.PersonPhone;

CREATE TABLE AdventureWorks2022_TRANS.Person.PersonPhone (
	BusinessEntityID int NOT NULL,
	PhoneNumber Phone COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	PhoneNumberTypeID int NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_PersonPhone_BusinessEntityID_PhoneNumber_PhoneNumberTypeID PRIMARY KEY (BusinessEntityID,PhoneNumber,PhoneNumberTypeID),
	CONSTRAINT FK_PersonPhone_Person_BusinessEntityID FOREIGN KEY (BusinessEntityID) REFERENCES AdventureWorks2022_TRANS.Person.Person(BusinessEntityID),
	CONSTRAINT FK_PersonPhone_PhoneNumberType_PhoneNumberTypeID FOREIGN KEY (PhoneNumberTypeID) REFERENCES AdventureWorks2022_TRANS.Person.PhoneNumberType(PhoneNumberTypeID)
);
CREATE NONCLUSTERED INDEX IX_PersonPhone_PhoneNumber ON AdventureWorks2022_TRANS.Person.PersonPhone (PhoneNumber);


-- AdventureWorks2022_TRANS.Person.BusinessEntityContact definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Person.BusinessEntityContact;

CREATE TABLE AdventureWorks2022_TRANS.Person.BusinessEntityContact (
	BusinessEntityID int NOT NULL,
	PersonID int NOT NULL,
	ContactTypeID int NOT NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_BusinessEntityContact_BusinessEntityID_PersonID_ContactTypeID PRIMARY KEY (BusinessEntityID,PersonID,ContactTypeID),
	CONSTRAINT FK_BusinessEntityContact_BusinessEntity_BusinessEntityID FOREIGN KEY (BusinessEntityID) REFERENCES AdventureWorks2022_TRANS.Person.BusinessEntity(BusinessEntityID),
	CONSTRAINT FK_BusinessEntityContact_ContactType_ContactTypeID FOREIGN KEY (ContactTypeID) REFERENCES AdventureWorks2022_TRANS.Person.ContactType(ContactTypeID),
	CONSTRAINT FK_BusinessEntityContact_Person_PersonID FOREIGN KEY (PersonID) REFERENCES AdventureWorks2022_TRANS.Person.Person(BusinessEntityID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_BusinessEntityContact_rowguid ON AdventureWorks2022_TRANS.Person.BusinessEntityContact (rowguid);
CREATE NONCLUSTERED INDEX IX_BusinessEntityContact_ContactTypeID ON AdventureWorks2022_TRANS.Person.BusinessEntityContact (ContactTypeID);
CREATE NONCLUSTERED INDEX IX_BusinessEntityContact_PersonID ON AdventureWorks2022_TRANS.Person.BusinessEntityContact (PersonID);


-- AdventureWorks2022_TRANS.Person.EmailAddress definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Person.EmailAddress;

CREATE TABLE AdventureWorks2022_TRANS.Person.EmailAddress (
	BusinessEntityID int NOT NULL,
	EmailAddressID int IDENTITY(1,1) NOT NULL,
	EmailAddress nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_EmailAddress_BusinessEntityID_EmailAddressID PRIMARY KEY (BusinessEntityID,EmailAddressID),
	CONSTRAINT FK_EmailAddress_Person_BusinessEntityID FOREIGN KEY (BusinessEntityID) REFERENCES AdventureWorks2022_TRANS.Person.Person(BusinessEntityID)
);
CREATE NONCLUSTERED INDEX IX_EmailAddress_EmailAddress ON AdventureWorks2022_TRANS.Person.EmailAddress (EmailAddress);


-- AdventureWorks2022_TRANS.Person.Password definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Person.Password;

CREATE TABLE AdventureWorks2022_TRANS.Person.Password (
	BusinessEntityID int NOT NULL,
	PasswordHash varchar(128) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	PasswordSalt varchar(10) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_Password_BusinessEntityID PRIMARY KEY (BusinessEntityID),
	CONSTRAINT FK_Password_Person_BusinessEntityID FOREIGN KEY (BusinessEntityID) REFERENCES AdventureWorks2022_TRANS.Person.Person(BusinessEntityID)
);


-- AdventureWorks2022_TRANS.Person.Address definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Person.Address;

CREATE TABLE AdventureWorks2022_TRANS.Person.Address (
	AddressID int IDENTITY(1,1) NOT NULL,
	AddressLine1 nvarchar(60) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	AddressLine2 nvarchar(60) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	City nvarchar(30) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	StateProvinceID int NOT NULL,
	PostalCode nvarchar(15) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	SpatialLocation geography NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_Address_AddressID PRIMARY KEY (AddressID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_Address_rowguid ON AdventureWorks2022_TRANS.Person.Address (rowguid);
CREATE UNIQUE NONCLUSTERED INDEX IX_Address_AddressLine1_AddressLine2_City_StateProvinceID_PostalCode ON AdventureWorks2022_TRANS.Person.Address (AddressLine1, AddressLine2, City, StateProvinceID, PostalCode);
CREATE NONCLUSTERED INDEX IX_Address_StateProvinceID ON AdventureWorks2022_TRANS.Person.Address (StateProvinceID);


-- AdventureWorks2022_TRANS.Person.BusinessEntityAddress definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Person.BusinessEntityAddress;

CREATE TABLE AdventureWorks2022_TRANS.Person.BusinessEntityAddress (
	BusinessEntityID int NOT NULL,
	AddressID int NOT NULL,
	AddressTypeID int NOT NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_BusinessEntityAddress_BusinessEntityID_AddressID_AddressTypeID PRIMARY KEY (BusinessEntityID,AddressID,AddressTypeID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_BusinessEntityAddress_rowguid ON AdventureWorks2022_TRANS.Person.BusinessEntityAddress (rowguid);
CREATE NONCLUSTERED INDEX IX_BusinessEntityAddress_AddressID ON AdventureWorks2022_TRANS.Person.BusinessEntityAddress (AddressID);
CREATE NONCLUSTERED INDEX IX_BusinessEntityAddress_AddressTypeID ON AdventureWorks2022_TRANS.Person.BusinessEntityAddress (AddressTypeID);


-- AdventureWorks2022_TRANS.Person.StateProvince definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Person.StateProvince;

CREATE TABLE AdventureWorks2022_TRANS.Person.StateProvince (
	StateProvinceID int IDENTITY(1,1) NOT NULL,
	StateProvinceCode nchar(3) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	CountryRegionCode nvarchar(3) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	IsOnlyStateProvinceFlag Flag DEFAULT 1 NOT NULL,
	Name Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	TerritoryID int NOT NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_StateProvince_StateProvinceID PRIMARY KEY (StateProvinceID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_StateProvince_Name ON AdventureWorks2022_TRANS.Person.StateProvince (Name);
CREATE UNIQUE NONCLUSTERED INDEX AK_StateProvince_StateProvinceCode_CountryRegionCode ON AdventureWorks2022_TRANS.Person.StateProvince (StateProvinceCode, CountryRegionCode);
CREATE UNIQUE NONCLUSTERED INDEX AK_StateProvince_rowguid ON AdventureWorks2022_TRANS.Person.StateProvince (rowguid);


-- AdventureWorks2022_TRANS.Person.Address foreign keys

ALTER TABLE AdventureWorks2022_TRANS.Person.Address ADD CONSTRAINT FK_Address_StateProvince_StateProvinceID FOREIGN KEY (StateProvinceID) REFERENCES AdventureWorks2022_TRANS.Person.StateProvince(StateProvinceID);


-- AdventureWorks2022_TRANS.Person.BusinessEntityAddress foreign keys

ALTER TABLE AdventureWorks2022_TRANS.Person.BusinessEntityAddress ADD CONSTRAINT FK_BusinessEntityAddress_AddressType_AddressTypeID FOREIGN KEY (AddressTypeID) REFERENCES AdventureWorks2022_TRANS.Person.AddressType(AddressTypeID);
ALTER TABLE AdventureWorks2022_TRANS.Person.BusinessEntityAddress ADD CONSTRAINT FK_BusinessEntityAddress_Address_AddressID FOREIGN KEY (AddressID) REFERENCES AdventureWorks2022_TRANS.Person.Address(AddressID);
ALTER TABLE AdventureWorks2022_TRANS.Person.BusinessEntityAddress ADD CONSTRAINT FK_BusinessEntityAddress_BusinessEntity_BusinessEntityID FOREIGN KEY (BusinessEntityID) REFERENCES AdventureWorks2022_TRANS.Person.BusinessEntity(BusinessEntityID);


-- AdventureWorks2022_TRANS.Person.StateProvince foreign keys

ALTER TABLE AdventureWorks2022_TRANS.Person.StateProvince ADD CONSTRAINT FK_StateProvince_CountryRegion_CountryRegionCode FOREIGN KEY (CountryRegionCode) REFERENCES AdventureWorks2022_TRANS.Person.CountryRegion(CountryRegionCode);
ALTER TABLE AdventureWorks2022_TRANS.Person.StateProvince ADD CONSTRAINT FK_StateProvince_SalesTerritory_TerritoryID FOREIGN KEY (TerritoryID) REFERENCES AdventureWorks2022_TRANS.Sales.SalesTerritory(TerritoryID);



-- DROP SCHEMA Production;

CREATE SCHEMA Production;
-- AdventureWorks2022_TRANS.Production.Culture definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Production.Culture;

CREATE TABLE AdventureWorks2022_TRANS.Production.Culture (
	CultureID nchar(6) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	Name Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_Culture_CultureID PRIMARY KEY (CultureID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_Culture_Name ON AdventureWorks2022_TRANS.Production.Culture (Name);


-- AdventureWorks2022_TRANS.Production.Illustration definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Production.Illustration;

CREATE TABLE AdventureWorks2022_TRANS.Production.Illustration (
	IllustrationID int IDENTITY(1,1) NOT NULL,
	Diagram xml NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_Illustration_IllustrationID PRIMARY KEY (IllustrationID)
);


-- AdventureWorks2022_TRANS.Production.Location definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Production.Location;

CREATE TABLE AdventureWorks2022_TRANS.Production.Location (
	LocationID smallint IDENTITY(1,1) NOT NULL,
	Name Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	CostRate smallmoney DEFAULT 0.00 NOT NULL,
	Availability decimal(8,2) DEFAULT 0.00 NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_Location_LocationID PRIMARY KEY (LocationID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_Location_Name ON AdventureWorks2022_TRANS.Production.Location (Name);
ALTER TABLE AdventureWorks2022_TRANS.Production.Location WITH NOCHECK ADD CONSTRAINT CK_Location_CostRate CHECK (([CostRate]>=(0.00)));
ALTER TABLE AdventureWorks2022_TRANS.Production.Location WITH NOCHECK ADD CONSTRAINT CK_Location_Availability CHECK (([Availability]>=(0.00)));


-- AdventureWorks2022_TRANS.Production.ProductCategory definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Production.ProductCategory;

CREATE TABLE AdventureWorks2022_TRANS.Production.ProductCategory (
	ProductCategoryID int IDENTITY(1,1) NOT NULL,
	Name Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_ProductCategory_ProductCategoryID PRIMARY KEY (ProductCategoryID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_ProductCategory_Name ON AdventureWorks2022_TRANS.Production.ProductCategory (Name);
CREATE UNIQUE NONCLUSTERED INDEX AK_ProductCategory_rowguid ON AdventureWorks2022_TRANS.Production.ProductCategory (rowguid);


-- AdventureWorks2022_TRANS.Production.ProductDescription definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Production.ProductDescription;

CREATE TABLE AdventureWorks2022_TRANS.Production.ProductDescription (
	ProductDescriptionID int IDENTITY(1,1) NOT NULL,
	Description nvarchar(400) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_ProductDescription_ProductDescriptionID PRIMARY KEY (ProductDescriptionID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_ProductDescription_rowguid ON AdventureWorks2022_TRANS.Production.ProductDescription (rowguid);


-- AdventureWorks2022_TRANS.Production.ProductModel definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Production.ProductModel;

CREATE TABLE AdventureWorks2022_TRANS.Production.ProductModel (
	ProductModelID int IDENTITY(1,1) NOT NULL,
	Name Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	CatalogDescription xml NULL,
	Instructions xml NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_ProductModel_ProductModelID PRIMARY KEY (ProductModelID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_ProductModel_Name ON AdventureWorks2022_TRANS.Production.ProductModel (Name);
CREATE UNIQUE NONCLUSTERED INDEX AK_ProductModel_rowguid ON AdventureWorks2022_TRANS.Production.ProductModel (rowguid);
CREATE INDEX PXML_ProductModel_CatalogDescription ON AdventureWorks2022_TRANS.Production.ProductModel (CatalogDescription);
CREATE INDEX PXML_ProductModel_Instructions ON AdventureWorks2022_TRANS.Production.ProductModel (Instructions);


-- AdventureWorks2022_TRANS.Production.ProductPhoto definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Production.ProductPhoto;

CREATE TABLE AdventureWorks2022_TRANS.Production.ProductPhoto (
	ProductPhotoID int IDENTITY(1,1) NOT NULL,
	ThumbNailPhoto varbinary(MAX) NULL,
	ThumbnailPhotoFileName nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	LargePhoto varbinary(MAX) NULL,
	LargePhotoFileName nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_ProductPhoto_ProductPhotoID PRIMARY KEY (ProductPhotoID)
);


-- AdventureWorks2022_TRANS.Production.ScrapReason definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Production.ScrapReason;

CREATE TABLE AdventureWorks2022_TRANS.Production.ScrapReason (
	ScrapReasonID smallint IDENTITY(1,1) NOT NULL,
	Name Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_ScrapReason_ScrapReasonID PRIMARY KEY (ScrapReasonID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_ScrapReason_Name ON AdventureWorks2022_TRANS.Production.ScrapReason (Name);


-- AdventureWorks2022_TRANS.Production.TransactionHistoryArchive definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Production.TransactionHistoryArchive;

CREATE TABLE AdventureWorks2022_TRANS.Production.TransactionHistoryArchive (
	TransactionID int NOT NULL,
	ProductID int NOT NULL,
	ReferenceOrderID int NOT NULL,
	ReferenceOrderLineID int DEFAULT 0 NOT NULL,
	TransactionDate datetime DEFAULT getdate() NOT NULL,
	TransactionType nchar(1) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	Quantity int NOT NULL,
	ActualCost money NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_TransactionHistoryArchive_TransactionID PRIMARY KEY (TransactionID)
);
CREATE NONCLUSTERED INDEX IX_TransactionHistoryArchive_ProductID ON AdventureWorks2022_TRANS.Production.TransactionHistoryArchive (ProductID);
CREATE NONCLUSTERED INDEX IX_TransactionHistoryArchive_ReferenceOrderID_ReferenceOrderLineID ON AdventureWorks2022_TRANS.Production.TransactionHistoryArchive (ReferenceOrderID, ReferenceOrderLineID);
ALTER TABLE AdventureWorks2022_TRANS.Production.TransactionHistoryArchive WITH NOCHECK ADD CONSTRAINT CK_TransactionHistoryArchive_TransactionType CHECK ((upper([TransactionType])='P' OR upper([TransactionType])='S' OR upper([TransactionType])='W'));


-- AdventureWorks2022_TRANS.Production.UnitMeasure definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Production.UnitMeasure;

CREATE TABLE AdventureWorks2022_TRANS.Production.UnitMeasure (
	UnitMeasureCode nchar(3) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	Name Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_UnitMeasure_UnitMeasureCode PRIMARY KEY (UnitMeasureCode)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_UnitMeasure_Name ON AdventureWorks2022_TRANS.Production.UnitMeasure (Name);


-- AdventureWorks2022_TRANS.Production.ProductModelIllustration definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Production.ProductModelIllustration;

CREATE TABLE AdventureWorks2022_TRANS.Production.ProductModelIllustration (
	ProductModelID int NOT NULL,
	IllustrationID int NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_ProductModelIllustration_ProductModelID_IllustrationID PRIMARY KEY (ProductModelID,IllustrationID),
	CONSTRAINT FK_ProductModelIllustration_Illustration_IllustrationID FOREIGN KEY (IllustrationID) REFERENCES AdventureWorks2022_TRANS.Production.Illustration(IllustrationID),
	CONSTRAINT FK_ProductModelIllustration_ProductModel_ProductModelID FOREIGN KEY (ProductModelID) REFERENCES AdventureWorks2022_TRANS.Production.ProductModel(ProductModelID)
);


-- AdventureWorks2022_TRANS.Production.ProductModelProductDescriptionCulture definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Production.ProductModelProductDescriptionCulture;

CREATE TABLE AdventureWorks2022_TRANS.Production.ProductModelProductDescriptionCulture (
	ProductModelID int NOT NULL,
	ProductDescriptionID int NOT NULL,
	CultureID nchar(6) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_ProductModelProductDescriptionCulture_ProductModelID_ProductDescriptionID_CultureID PRIMARY KEY (ProductModelID,ProductDescriptionID,CultureID),
	CONSTRAINT FK_ProductModelProductDescriptionCulture_Culture_CultureID FOREIGN KEY (CultureID) REFERENCES AdventureWorks2022_TRANS.Production.Culture(CultureID),
	CONSTRAINT FK_ProductModelProductDescriptionCulture_ProductDescription_ProductDescriptionID FOREIGN KEY (ProductDescriptionID) REFERENCES AdventureWorks2022_TRANS.Production.ProductDescription(ProductDescriptionID),
	CONSTRAINT FK_ProductModelProductDescriptionCulture_ProductModel_ProductModelID FOREIGN KEY (ProductModelID) REFERENCES AdventureWorks2022_TRANS.Production.ProductModel(ProductModelID)
);


-- AdventureWorks2022_TRANS.Production.ProductSubcategory definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Production.ProductSubcategory;

CREATE TABLE AdventureWorks2022_TRANS.Production.ProductSubcategory (
	ProductSubcategoryID int IDENTITY(1,1) NOT NULL,
	ProductCategoryID int NOT NULL,
	Name Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_ProductSubcategory_ProductSubcategoryID PRIMARY KEY (ProductSubcategoryID),
	CONSTRAINT FK_ProductSubcategory_ProductCategory_ProductCategoryID FOREIGN KEY (ProductCategoryID) REFERENCES AdventureWorks2022_TRANS.Production.ProductCategory(ProductCategoryID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_ProductSubcategory_Name ON AdventureWorks2022_TRANS.Production.ProductSubcategory (Name);
CREATE UNIQUE NONCLUSTERED INDEX AK_ProductSubcategory_rowguid ON AdventureWorks2022_TRANS.Production.ProductSubcategory (rowguid);


-- AdventureWorks2022_TRANS.Production.Product definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Production.Product;

CREATE TABLE AdventureWorks2022_TRANS.Production.Product (
	ProductID int IDENTITY(1,1) NOT NULL,
	Name Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	ProductNumber nvarchar(25) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	MakeFlag Flag DEFAULT 1 NOT NULL,
	FinishedGoodsFlag Flag DEFAULT 1 NOT NULL,
	Color nvarchar(15) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	SafetyStockLevel smallint NOT NULL,
	ReorderPoint smallint NOT NULL,
	StandardCost money NOT NULL,
	ListPrice money NOT NULL,
	[Size] nvarchar(5) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	SizeUnitMeasureCode nchar(3) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	WeightUnitMeasureCode nchar(3) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Weight decimal(8,2) NULL,
	DaysToManufacture int NOT NULL,
	ProductLine nchar(2) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Class nchar(2) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	[Style] nchar(2) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	ProductSubcategoryID int NULL,
	ProductModelID int NULL,
	SellStartDate datetime NOT NULL,
	SellEndDate datetime NULL,
	DiscontinuedDate datetime NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_Product_ProductID PRIMARY KEY (ProductID),
	CONSTRAINT FK_Product_ProductModel_ProductModelID FOREIGN KEY (ProductModelID) REFERENCES AdventureWorks2022_TRANS.Production.ProductModel(ProductModelID),
	CONSTRAINT FK_Product_ProductSubcategory_ProductSubcategoryID FOREIGN KEY (ProductSubcategoryID) REFERENCES AdventureWorks2022_TRANS.Production.ProductSubcategory(ProductSubcategoryID),
	CONSTRAINT FK_Product_UnitMeasure_SizeUnitMeasureCode FOREIGN KEY (SizeUnitMeasureCode) REFERENCES AdventureWorks2022_TRANS.Production.UnitMeasure(UnitMeasureCode),
	CONSTRAINT FK_Product_UnitMeasure_WeightUnitMeasureCode FOREIGN KEY (WeightUnitMeasureCode) REFERENCES AdventureWorks2022_TRANS.Production.UnitMeasure(UnitMeasureCode)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_Product_Name ON AdventureWorks2022_TRANS.Production.Product (Name);
CREATE UNIQUE NONCLUSTERED INDEX AK_Product_ProductNumber ON AdventureWorks2022_TRANS.Production.Product (ProductNumber);
CREATE UNIQUE NONCLUSTERED INDEX AK_Product_rowguid ON AdventureWorks2022_TRANS.Production.Product (rowguid);
ALTER TABLE AdventureWorks2022_TRANS.Production.Product WITH NOCHECK ADD CONSTRAINT CK_Product_SafetyStockLevel CHECK (([SafetyStockLevel]>(0)));
ALTER TABLE AdventureWorks2022_TRANS.Production.Product WITH NOCHECK ADD CONSTRAINT CK_Product_ReorderPoint CHECK (([ReorderPoint]>(0)));
ALTER TABLE AdventureWorks2022_TRANS.Production.Product WITH NOCHECK ADD CONSTRAINT CK_Product_StandardCost CHECK (([StandardCost]>=(0.00)));
ALTER TABLE AdventureWorks2022_TRANS.Production.Product WITH NOCHECK ADD CONSTRAINT CK_Product_ListPrice CHECK (([ListPrice]>=(0.00)));
ALTER TABLE AdventureWorks2022_TRANS.Production.Product WITH NOCHECK ADD CONSTRAINT CK_Product_Weight CHECK (([Weight]>(0.00)));
ALTER TABLE AdventureWorks2022_TRANS.Production.Product WITH NOCHECK ADD CONSTRAINT CK_Product_DaysToManufacture CHECK (([DaysToManufacture]>=(0)));
ALTER TABLE AdventureWorks2022_TRANS.Production.Product WITH NOCHECK ADD CONSTRAINT CK_Product_ProductLine CHECK ((upper([ProductLine])='R' OR upper([ProductLine])='M' OR upper([ProductLine])='T' OR upper([ProductLine])='S' OR [ProductLine] IS NULL));
ALTER TABLE AdventureWorks2022_TRANS.Production.Product WITH NOCHECK ADD CONSTRAINT CK_Product_Class CHECK ((upper([Class])='H' OR upper([Class])='M' OR upper([Class])='L' OR [Class] IS NULL));
ALTER TABLE AdventureWorks2022_TRANS.Production.Product WITH NOCHECK ADD CONSTRAINT CK_Product_Style CHECK ((upper([Style])='U' OR upper([Style])='M' OR upper([Style])='W' OR [Style] IS NULL));
ALTER TABLE AdventureWorks2022_TRANS.Production.Product WITH NOCHECK ADD CONSTRAINT CK_Product_SellEndDate CHECK (([SellEndDate]>=[SellStartDate] OR [SellEndDate] IS NULL));


-- AdventureWorks2022_TRANS.Production.ProductCostHistory definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Production.ProductCostHistory;

CREATE TABLE AdventureWorks2022_TRANS.Production.ProductCostHistory (
	ProductID int NOT NULL,
	StartDate datetime NOT NULL,
	EndDate datetime NULL,
	StandardCost money NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_ProductCostHistory_ProductID_StartDate PRIMARY KEY (ProductID,StartDate),
	CONSTRAINT FK_ProductCostHistory_Product_ProductID FOREIGN KEY (ProductID) REFERENCES AdventureWorks2022_TRANS.Production.Product(ProductID)
);
ALTER TABLE AdventureWorks2022_TRANS.Production.ProductCostHistory WITH NOCHECK ADD CONSTRAINT CK_ProductCostHistory_EndDate CHECK (([EndDate]>=[StartDate] OR [EndDate] IS NULL));
ALTER TABLE AdventureWorks2022_TRANS.Production.ProductCostHistory WITH NOCHECK ADD CONSTRAINT CK_ProductCostHistory_StandardCost CHECK (([StandardCost]>=(0.00)));


-- AdventureWorks2022_TRANS.Production.ProductInventory definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Production.ProductInventory;

CREATE TABLE AdventureWorks2022_TRANS.Production.ProductInventory (
	ProductID int NOT NULL,
	LocationID smallint NOT NULL,
	Shelf nvarchar(10) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	Bin tinyint NOT NULL,
	Quantity smallint DEFAULT 0 NOT NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_ProductInventory_ProductID_LocationID PRIMARY KEY (ProductID,LocationID),
	CONSTRAINT FK_ProductInventory_Location_LocationID FOREIGN KEY (LocationID) REFERENCES AdventureWorks2022_TRANS.Production.Location(LocationID),
	CONSTRAINT FK_ProductInventory_Product_ProductID FOREIGN KEY (ProductID) REFERENCES AdventureWorks2022_TRANS.Production.Product(ProductID)
);
ALTER TABLE AdventureWorks2022_TRANS.Production.ProductInventory WITH NOCHECK ADD CONSTRAINT CK_ProductInventory_Shelf CHECK (([Shelf] like '[A-Za-z]' OR [Shelf]='N/A'));
ALTER TABLE AdventureWorks2022_TRANS.Production.ProductInventory WITH NOCHECK ADD CONSTRAINT CK_ProductInventory_Bin CHECK (([Bin]>=(0) AND [Bin]<=(100)));


-- AdventureWorks2022_TRANS.Production.ProductListPriceHistory definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Production.ProductListPriceHistory;

CREATE TABLE AdventureWorks2022_TRANS.Production.ProductListPriceHistory (
	ProductID int NOT NULL,
	StartDate datetime NOT NULL,
	EndDate datetime NULL,
	ListPrice money NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_ProductListPriceHistory_ProductID_StartDate PRIMARY KEY (ProductID,StartDate),
	CONSTRAINT FK_ProductListPriceHistory_Product_ProductID FOREIGN KEY (ProductID) REFERENCES AdventureWorks2022_TRANS.Production.Product(ProductID)
);
ALTER TABLE AdventureWorks2022_TRANS.Production.ProductListPriceHistory WITH NOCHECK ADD CONSTRAINT CK_ProductListPriceHistory_EndDate CHECK (([EndDate]>=[StartDate] OR [EndDate] IS NULL));
ALTER TABLE AdventureWorks2022_TRANS.Production.ProductListPriceHistory WITH NOCHECK ADD CONSTRAINT CK_ProductListPriceHistory_ListPrice CHECK (([ListPrice]>(0.00)));


-- AdventureWorks2022_TRANS.Production.ProductProductPhoto definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Production.ProductProductPhoto;

CREATE TABLE AdventureWorks2022_TRANS.Production.ProductProductPhoto (
	ProductID int NOT NULL,
	ProductPhotoID int NOT NULL,
	[Primary] Flag DEFAULT 0 NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_ProductProductPhoto_ProductID_ProductPhotoID PRIMARY KEY (ProductID,ProductPhotoID),
	CONSTRAINT FK_ProductProductPhoto_ProductPhoto_ProductPhotoID FOREIGN KEY (ProductPhotoID) REFERENCES AdventureWorks2022_TRANS.Production.ProductPhoto(ProductPhotoID),
	CONSTRAINT FK_ProductProductPhoto_Product_ProductID FOREIGN KEY (ProductID) REFERENCES AdventureWorks2022_TRANS.Production.Product(ProductID)
);


-- AdventureWorks2022_TRANS.Production.ProductReview definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Production.ProductReview;

CREATE TABLE AdventureWorks2022_TRANS.Production.ProductReview (
	ProductReviewID int IDENTITY(1,1) NOT NULL,
	ProductID int NOT NULL,
	ReviewerName Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	ReviewDate datetime DEFAULT getdate() NOT NULL,
	EmailAddress nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	Rating int NOT NULL,
	Comments nvarchar(3850) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_ProductReview_ProductReviewID PRIMARY KEY (ProductReviewID),
	CONSTRAINT FK_ProductReview_Product_ProductID FOREIGN KEY (ProductID) REFERENCES AdventureWorks2022_TRANS.Production.Product(ProductID)
);
CREATE NONCLUSTERED INDEX IX_ProductReview_ProductID_Name ON AdventureWorks2022_TRANS.Production.ProductReview (ProductID, ReviewerName) INCLUDE (Comments);
ALTER TABLE AdventureWorks2022_TRANS.Production.ProductReview WITH NOCHECK ADD CONSTRAINT CK_ProductReview_Rating CHECK (([Rating]>=(1) AND [Rating]<=(5)));


-- AdventureWorks2022_TRANS.Production.TransactionHistory definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Production.TransactionHistory;

CREATE TABLE AdventureWorks2022_TRANS.Production.TransactionHistory (
	TransactionID int IDENTITY(100000,1) NOT NULL,
	ProductID int NOT NULL,
	ReferenceOrderID int NOT NULL,
	ReferenceOrderLineID int DEFAULT 0 NOT NULL,
	TransactionDate datetime DEFAULT getdate() NOT NULL,
	TransactionType nchar(1) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	Quantity int NOT NULL,
	ActualCost money NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_TransactionHistory_TransactionID PRIMARY KEY (TransactionID),
	CONSTRAINT FK_TransactionHistory_Product_ProductID FOREIGN KEY (ProductID) REFERENCES AdventureWorks2022_TRANS.Production.Product(ProductID)
);
CREATE NONCLUSTERED INDEX IX_TransactionHistory_ProductID ON AdventureWorks2022_TRANS.Production.TransactionHistory (ProductID);
CREATE NONCLUSTERED INDEX IX_TransactionHistory_ReferenceOrderID_ReferenceOrderLineID ON AdventureWorks2022_TRANS.Production.TransactionHistory (ReferenceOrderID, ReferenceOrderLineID);
ALTER TABLE AdventureWorks2022_TRANS.Production.TransactionHistory WITH NOCHECK ADD CONSTRAINT CK_TransactionHistory_TransactionType CHECK ((upper([TransactionType])='P' OR upper([TransactionType])='S' OR upper([TransactionType])='W'));


-- AdventureWorks2022_TRANS.Production.WorkOrder definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Production.WorkOrder;

CREATE TABLE AdventureWorks2022_TRANS.Production.WorkOrder (
	WorkOrderID int IDENTITY(1,1) NOT NULL,
	ProductID int NOT NULL,
	OrderQty int NOT NULL,
	StockedQty AS (isnull([OrderQty]-[ScrappedQty],(0))) NOT NULL,
	ScrappedQty smallint NOT NULL,
	StartDate datetime NOT NULL,
	EndDate datetime NULL,
	DueDate datetime NOT NULL,
	ScrapReasonID smallint NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_WorkOrder_WorkOrderID PRIMARY KEY (WorkOrderID),
	CONSTRAINT FK_WorkOrder_Product_ProductID FOREIGN KEY (ProductID) REFERENCES AdventureWorks2022_TRANS.Production.Product(ProductID),
	CONSTRAINT FK_WorkOrder_ScrapReason_ScrapReasonID FOREIGN KEY (ScrapReasonID) REFERENCES AdventureWorks2022_TRANS.Production.ScrapReason(ScrapReasonID)
);
CREATE NONCLUSTERED INDEX IX_WorkOrder_ProductID ON AdventureWorks2022_TRANS.Production.WorkOrder (ProductID);
CREATE NONCLUSTERED INDEX IX_WorkOrder_ScrapReasonID ON AdventureWorks2022_TRANS.Production.WorkOrder (ScrapReasonID);
ALTER TABLE AdventureWorks2022_TRANS.Production.WorkOrder WITH NOCHECK ADD CONSTRAINT CK_WorkOrder_OrderQty CHECK (([OrderQty]>(0)));
ALTER TABLE AdventureWorks2022_TRANS.Production.WorkOrder WITH NOCHECK ADD CONSTRAINT CK_WorkOrder_ScrappedQty CHECK (([ScrappedQty]>=(0)));
ALTER TABLE AdventureWorks2022_TRANS.Production.WorkOrder WITH NOCHECK ADD CONSTRAINT CK_WorkOrder_EndDate CHECK (([EndDate]>=[StartDate] OR [EndDate] IS NULL));


-- AdventureWorks2022_TRANS.Production.WorkOrderRouting definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Production.WorkOrderRouting;

CREATE TABLE AdventureWorks2022_TRANS.Production.WorkOrderRouting (
	WorkOrderID int NOT NULL,
	ProductID int NOT NULL,
	OperationSequence smallint NOT NULL,
	LocationID smallint NOT NULL,
	ScheduledStartDate datetime NOT NULL,
	ScheduledEndDate datetime NOT NULL,
	ActualStartDate datetime NULL,
	ActualEndDate datetime NULL,
	ActualResourceHrs decimal(9,4) NULL,
	PlannedCost money NOT NULL,
	ActualCost money NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_WorkOrderRouting_WorkOrderID_ProductID_OperationSequence PRIMARY KEY (WorkOrderID,ProductID,OperationSequence),
	CONSTRAINT FK_WorkOrderRouting_Location_LocationID FOREIGN KEY (LocationID) REFERENCES AdventureWorks2022_TRANS.Production.Location(LocationID),
	CONSTRAINT FK_WorkOrderRouting_WorkOrder_WorkOrderID FOREIGN KEY (WorkOrderID) REFERENCES AdventureWorks2022_TRANS.Production.WorkOrder(WorkOrderID)
);
CREATE NONCLUSTERED INDEX IX_WorkOrderRouting_ProductID ON AdventureWorks2022_TRANS.Production.WorkOrderRouting (ProductID);
ALTER TABLE AdventureWorks2022_TRANS.Production.WorkOrderRouting WITH NOCHECK ADD CONSTRAINT CK_WorkOrderRouting_ScheduledEndDate CHECK (([ScheduledEndDate]>=[ScheduledStartDate]));
ALTER TABLE AdventureWorks2022_TRANS.Production.WorkOrderRouting WITH NOCHECK ADD CONSTRAINT CK_WorkOrderRouting_ActualEndDate CHECK (([ActualEndDate]>=[ActualStartDate] OR [ActualEndDate] IS NULL OR [ActualStartDate] IS NULL));
ALTER TABLE AdventureWorks2022_TRANS.Production.WorkOrderRouting WITH NOCHECK ADD CONSTRAINT CK_WorkOrderRouting_ActualResourceHrs CHECK (([ActualResourceHrs]>=(0.0000)));
ALTER TABLE AdventureWorks2022_TRANS.Production.WorkOrderRouting WITH NOCHECK ADD CONSTRAINT CK_WorkOrderRouting_PlannedCost CHECK (([PlannedCost]>(0.00)));
ALTER TABLE AdventureWorks2022_TRANS.Production.WorkOrderRouting WITH NOCHECK ADD CONSTRAINT CK_WorkOrderRouting_ActualCost CHECK (([ActualCost]>(0.00)));


-- AdventureWorks2022_TRANS.Production.BillOfMaterials definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Production.BillOfMaterials;

CREATE TABLE AdventureWorks2022_TRANS.Production.BillOfMaterials (
	BillOfMaterialsID int IDENTITY(1,1) NOT NULL,
	ProductAssemblyID int NULL,
	ComponentID int NOT NULL,
	StartDate datetime DEFAULT getdate() NOT NULL,
	EndDate datetime NULL,
	UnitMeasureCode nchar(3) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	BOMLevel smallint NOT NULL,
	PerAssemblyQty decimal(8,2) DEFAULT 1.00 NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_BillOfMaterials_BillOfMaterialsID PRIMARY KEY (BillOfMaterialsID),
	CONSTRAINT FK_BillOfMaterials_Product_ComponentID FOREIGN KEY (ComponentID) REFERENCES AdventureWorks2022_TRANS.Production.Product(ProductID),
	CONSTRAINT FK_BillOfMaterials_Product_ProductAssemblyID FOREIGN KEY (ProductAssemblyID) REFERENCES AdventureWorks2022_TRANS.Production.Product(ProductID),
	CONSTRAINT FK_BillOfMaterials_UnitMeasure_UnitMeasureCode FOREIGN KEY (UnitMeasureCode) REFERENCES AdventureWorks2022_TRANS.Production.UnitMeasure(UnitMeasureCode)
);
CREATE UNIQUE CLUSTERED INDEX AK_BillOfMaterials_ProductAssemblyID_ComponentID_StartDate ON AdventureWorks2022_TRANS.Production.BillOfMaterials (ProductAssemblyID, ComponentID, StartDate);
CREATE NONCLUSTERED INDEX IX_BillOfMaterials_UnitMeasureCode ON AdventureWorks2022_TRANS.Production.BillOfMaterials (UnitMeasureCode);
ALTER TABLE AdventureWorks2022_TRANS.Production.BillOfMaterials WITH NOCHECK ADD CONSTRAINT CK_BillOfMaterials_EndDate CHECK (([EndDate]>[StartDate] OR [EndDate] IS NULL));
ALTER TABLE AdventureWorks2022_TRANS.Production.BillOfMaterials WITH NOCHECK ADD CONSTRAINT CK_BillOfMaterials_ProductAssemblyID CHECK (([ProductAssemblyID]<>[ComponentID]));
ALTER TABLE AdventureWorks2022_TRANS.Production.BillOfMaterials WITH NOCHECK ADD CONSTRAINT CK_BillOfMaterials_BOMLevel CHECK (([ProductAssemblyID] IS NULL AND [BOMLevel]=(0) AND [PerAssemblyQty]=(1.00) OR [ProductAssemblyID] IS NOT NULL AND [BOMLevel]>=(1)));
ALTER TABLE AdventureWorks2022_TRANS.Production.BillOfMaterials WITH NOCHECK ADD CONSTRAINT CK_BillOfMaterials_PerAssemblyQty CHECK (([PerAssemblyQty]>=(1.00)));


-- AdventureWorks2022_TRANS.Production.Document definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Production.Document;

CREATE TABLE AdventureWorks2022_TRANS.Production.Document (
	DocumentNode hierarchyid NOT NULL,
	DocumentLevel AS ([DocumentNode].[GetLevel]()),
	Title nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	Owner int NOT NULL,
	FolderFlag bit DEFAULT 0 NOT NULL,
	FileName nvarchar(400) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	FileExtension nvarchar(8) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	Revision nchar(5) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	ChangeNumber int DEFAULT 0 NOT NULL,
	Status tinyint NOT NULL,
	DocumentSummary nvarchar(MAX) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	Document varbinary(MAX) NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_Document_DocumentNode PRIMARY KEY (DocumentNode),
	CONSTRAINT UQ__Document__F73921F7C81C642F UNIQUE (rowguid)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_Document_DocumentLevel_DocumentNode ON AdventureWorks2022_TRANS.Production.Document (DocumentLevel, DocumentNode);
CREATE UNIQUE NONCLUSTERED INDEX AK_Document_rowguid ON AdventureWorks2022_TRANS.Production.Document (rowguid);
CREATE NONCLUSTERED INDEX IX_Document_FileName_Revision ON AdventureWorks2022_TRANS.Production.Document (FileName, Revision);
ALTER TABLE AdventureWorks2022_TRANS.Production.Document WITH NOCHECK ADD CONSTRAINT CK_Document_Status CHECK (([Status]>=(1) AND [Status]<=(3)));


-- AdventureWorks2022_TRANS.Production.ProductDocument definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Production.ProductDocument;

CREATE TABLE AdventureWorks2022_TRANS.Production.ProductDocument (
	ProductID int NOT NULL,
	DocumentNode hierarchyid NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_ProductDocument_ProductID_DocumentNode PRIMARY KEY (ProductID,DocumentNode)
);


-- AdventureWorks2022_TRANS.Production.Document foreign keys

ALTER TABLE AdventureWorks2022_TRANS.Production.Document ADD CONSTRAINT FK_Document_Employee_Owner FOREIGN KEY (Owner) REFERENCES AdventureWorks2022_TRANS.HumanResources.Employee(BusinessEntityID);


-- AdventureWorks2022_TRANS.Production.ProductDocument foreign keys

ALTER TABLE AdventureWorks2022_TRANS.Production.ProductDocument ADD CONSTRAINT FK_ProductDocument_Document_DocumentNode FOREIGN KEY (DocumentNode) REFERENCES AdventureWorks2022_TRANS.Production.Document(DocumentNode);
ALTER TABLE AdventureWorks2022_TRANS.Production.ProductDocument ADD CONSTRAINT FK_ProductDocument_Product_ProductID FOREIGN KEY (ProductID) REFERENCES AdventureWorks2022_TRANS.Production.Product(ProductID);



-- DROP SCHEMA Purchasing;

CREATE SCHEMA Purchasing;
-- AdventureWorks2022_TRANS.Purchasing.ShipMethod definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Purchasing.ShipMethod;

CREATE TABLE AdventureWorks2022_TRANS.Purchasing.ShipMethod (
	ShipMethodID int IDENTITY(1,1) NOT NULL,
	Name Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	ShipBase money DEFAULT 0.00 NOT NULL,
	ShipRate money DEFAULT 0.00 NOT NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_ShipMethod_ShipMethodID PRIMARY KEY (ShipMethodID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_ShipMethod_Name ON AdventureWorks2022_TRANS.Purchasing.ShipMethod (Name);
CREATE UNIQUE NONCLUSTERED INDEX AK_ShipMethod_rowguid ON AdventureWorks2022_TRANS.Purchasing.ShipMethod (rowguid);
ALTER TABLE AdventureWorks2022_TRANS.Purchasing.ShipMethod WITH NOCHECK ADD CONSTRAINT CK_ShipMethod_ShipBase CHECK (([ShipBase]>(0.00)));
ALTER TABLE AdventureWorks2022_TRANS.Purchasing.ShipMethod WITH NOCHECK ADD CONSTRAINT CK_ShipMethod_ShipRate CHECK (([ShipRate]>(0.00)));


-- AdventureWorks2022_TRANS.Purchasing.ProductVendor definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Purchasing.ProductVendor;

CREATE TABLE AdventureWorks2022_TRANS.Purchasing.ProductVendor (
	ProductID int NOT NULL,
	BusinessEntityID int NOT NULL,
	AverageLeadTime int NOT NULL,
	StandardPrice money NOT NULL,
	LastReceiptCost money NULL,
	LastReceiptDate datetime NULL,
	MinOrderQty int NOT NULL,
	MaxOrderQty int NOT NULL,
	OnOrderQty int NULL,
	UnitMeasureCode nchar(3) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_ProductVendor_ProductID_BusinessEntityID PRIMARY KEY (ProductID,BusinessEntityID)
);
CREATE NONCLUSTERED INDEX IX_ProductVendor_BusinessEntityID ON AdventureWorks2022_TRANS.Purchasing.ProductVendor (BusinessEntityID);
CREATE NONCLUSTERED INDEX IX_ProductVendor_UnitMeasureCode ON AdventureWorks2022_TRANS.Purchasing.ProductVendor (UnitMeasureCode);
ALTER TABLE AdventureWorks2022_TRANS.Purchasing.ProductVendor WITH NOCHECK ADD CONSTRAINT CK_ProductVendor_AverageLeadTime CHECK (([AverageLeadTime]>=(1)));
ALTER TABLE AdventureWorks2022_TRANS.Purchasing.ProductVendor WITH NOCHECK ADD CONSTRAINT CK_ProductVendor_StandardPrice CHECK (([StandardPrice]>(0.00)));
ALTER TABLE AdventureWorks2022_TRANS.Purchasing.ProductVendor WITH NOCHECK ADD CONSTRAINT CK_ProductVendor_LastReceiptCost CHECK (([LastReceiptCost]>(0.00)));
ALTER TABLE AdventureWorks2022_TRANS.Purchasing.ProductVendor WITH NOCHECK ADD CONSTRAINT CK_ProductVendor_MinOrderQty CHECK (([MinOrderQty]>=(1)));
ALTER TABLE AdventureWorks2022_TRANS.Purchasing.ProductVendor WITH NOCHECK ADD CONSTRAINT CK_ProductVendor_MaxOrderQty CHECK (([MaxOrderQty]>=(1)));
ALTER TABLE AdventureWorks2022_TRANS.Purchasing.ProductVendor WITH NOCHECK ADD CONSTRAINT CK_ProductVendor_OnOrderQty CHECK (([OnOrderQty]>=(0)));


-- AdventureWorks2022_TRANS.Purchasing.PurchaseOrderDetail definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Purchasing.PurchaseOrderDetail;

CREATE TABLE AdventureWorks2022_TRANS.Purchasing.PurchaseOrderDetail (
	PurchaseOrderID int NOT NULL,
	PurchaseOrderDetailID int IDENTITY(1,1) NOT NULL,
	DueDate datetime NOT NULL,
	OrderQty smallint NOT NULL,
	ProductID int NOT NULL,
	UnitPrice money NOT NULL,
	LineTotal AS (isnull([OrderQty]*[UnitPrice],(0.00))) NOT NULL,
	ReceivedQty decimal(8,2) NOT NULL,
	RejectedQty decimal(8,2) NOT NULL,
	StockedQty AS (isnull([ReceivedQty]-[RejectedQty],(0.00))) NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_PurchaseOrderDetail_PurchaseOrderID_PurchaseOrderDetailID PRIMARY KEY (PurchaseOrderID,PurchaseOrderDetailID)
);
CREATE NONCLUSTERED INDEX IX_PurchaseOrderDetail_ProductID ON AdventureWorks2022_TRANS.Purchasing.PurchaseOrderDetail (ProductID);
ALTER TABLE AdventureWorks2022_TRANS.Purchasing.PurchaseOrderDetail WITH NOCHECK ADD CONSTRAINT CK_PurchaseOrderDetail_OrderQty CHECK (([OrderQty]>(0)));
ALTER TABLE AdventureWorks2022_TRANS.Purchasing.PurchaseOrderDetail WITH NOCHECK ADD CONSTRAINT CK_PurchaseOrderDetail_UnitPrice CHECK (([UnitPrice]>=(0.00)));
ALTER TABLE AdventureWorks2022_TRANS.Purchasing.PurchaseOrderDetail WITH NOCHECK ADD CONSTRAINT CK_PurchaseOrderDetail_ReceivedQty CHECK (([ReceivedQty]>=(0.00)));
ALTER TABLE AdventureWorks2022_TRANS.Purchasing.PurchaseOrderDetail WITH NOCHECK ADD CONSTRAINT CK_PurchaseOrderDetail_RejectedQty CHECK (([RejectedQty]>=(0.00)));


-- AdventureWorks2022_TRANS.Purchasing.PurchaseOrderHeader definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Purchasing.PurchaseOrderHeader;

CREATE TABLE AdventureWorks2022_TRANS.Purchasing.PurchaseOrderHeader (
	PurchaseOrderID int IDENTITY(1,1) NOT NULL,
	RevisionNumber tinyint DEFAULT 0 NOT NULL,
	Status tinyint DEFAULT 1 NOT NULL,
	EmployeeID int NOT NULL,
	VendorID int NOT NULL,
	ShipMethodID int NOT NULL,
	OrderDate datetime DEFAULT getdate() NOT NULL,
	ShipDate datetime NULL,
	SubTotal money DEFAULT 0.00 NOT NULL,
	TaxAmt money DEFAULT 0.00 NOT NULL,
	Freight money DEFAULT 0.00 NOT NULL,
	TotalDue AS (isnull(([SubTotal]+[TaxAmt])+[Freight],(0))) PERSISTED NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_PurchaseOrderHeader_PurchaseOrderID PRIMARY KEY (PurchaseOrderID)
);
CREATE NONCLUSTERED INDEX IX_PurchaseOrderHeader_EmployeeID ON AdventureWorks2022_TRANS.Purchasing.PurchaseOrderHeader (EmployeeID);
CREATE NONCLUSTERED INDEX IX_PurchaseOrderHeader_VendorID ON AdventureWorks2022_TRANS.Purchasing.PurchaseOrderHeader (VendorID);
ALTER TABLE AdventureWorks2022_TRANS.Purchasing.PurchaseOrderHeader WITH NOCHECK ADD CONSTRAINT CK_PurchaseOrderHeader_Status CHECK (([Status]>=(1) AND [Status]<=(4)));
ALTER TABLE AdventureWorks2022_TRANS.Purchasing.PurchaseOrderHeader WITH NOCHECK ADD CONSTRAINT CK_PurchaseOrderHeader_ShipDate CHECK (([ShipDate]>=[OrderDate] OR [ShipDate] IS NULL));
ALTER TABLE AdventureWorks2022_TRANS.Purchasing.PurchaseOrderHeader WITH NOCHECK ADD CONSTRAINT CK_PurchaseOrderHeader_SubTotal CHECK (([SubTotal]>=(0.00)));
ALTER TABLE AdventureWorks2022_TRANS.Purchasing.PurchaseOrderHeader WITH NOCHECK ADD CONSTRAINT CK_PurchaseOrderHeader_TaxAmt CHECK (([TaxAmt]>=(0.00)));
ALTER TABLE AdventureWorks2022_TRANS.Purchasing.PurchaseOrderHeader WITH NOCHECK ADD CONSTRAINT CK_PurchaseOrderHeader_Freight CHECK (([Freight]>=(0.00)));


-- AdventureWorks2022_TRANS.Purchasing.Vendor definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Purchasing.Vendor;

CREATE TABLE AdventureWorks2022_TRANS.Purchasing.Vendor (
	BusinessEntityID int NOT NULL,
	AccountNumber AccountNumber COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	Name Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	CreditRating tinyint NOT NULL,
	PreferredVendorStatus Flag DEFAULT 1 NOT NULL,
	ActiveFlag Flag DEFAULT 1 NOT NULL,
	PurchasingWebServiceURL nvarchar(1024) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_Vendor_BusinessEntityID PRIMARY KEY (BusinessEntityID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_Vendor_AccountNumber ON AdventureWorks2022_TRANS.Purchasing.Vendor (AccountNumber);
ALTER TABLE AdventureWorks2022_TRANS.Purchasing.Vendor WITH NOCHECK ADD CONSTRAINT CK_Vendor_CreditRating CHECK (([CreditRating]>=(1) AND [CreditRating]<=(5)));


-- AdventureWorks2022_TRANS.Purchasing.ProductVendor foreign keys

ALTER TABLE AdventureWorks2022_TRANS.Purchasing.ProductVendor ADD CONSTRAINT FK_ProductVendor_Product_ProductID FOREIGN KEY (ProductID) REFERENCES AdventureWorks2022_TRANS.Production.Product(ProductID);
ALTER TABLE AdventureWorks2022_TRANS.Purchasing.ProductVendor ADD CONSTRAINT FK_ProductVendor_UnitMeasure_UnitMeasureCode FOREIGN KEY (UnitMeasureCode) REFERENCES AdventureWorks2022_TRANS.Production.UnitMeasure(UnitMeasureCode);
ALTER TABLE AdventureWorks2022_TRANS.Purchasing.ProductVendor ADD CONSTRAINT FK_ProductVendor_Vendor_BusinessEntityID FOREIGN KEY (BusinessEntityID) REFERENCES AdventureWorks2022_TRANS.Purchasing.Vendor(BusinessEntityID);


-- AdventureWorks2022_TRANS.Purchasing.PurchaseOrderDetail foreign keys

ALTER TABLE AdventureWorks2022_TRANS.Purchasing.PurchaseOrderDetail ADD CONSTRAINT FK_PurchaseOrderDetail_Product_ProductID FOREIGN KEY (ProductID) REFERENCES AdventureWorks2022_TRANS.Production.Product(ProductID);
ALTER TABLE AdventureWorks2022_TRANS.Purchasing.PurchaseOrderDetail ADD CONSTRAINT FK_PurchaseOrderDetail_PurchaseOrderHeader_PurchaseOrderID FOREIGN KEY (PurchaseOrderID) REFERENCES AdventureWorks2022_TRANS.Purchasing.PurchaseOrderHeader(PurchaseOrderID);


-- AdventureWorks2022_TRANS.Purchasing.PurchaseOrderHeader foreign keys

ALTER TABLE AdventureWorks2022_TRANS.Purchasing.PurchaseOrderHeader ADD CONSTRAINT FK_PurchaseOrderHeader_Employee_EmployeeID FOREIGN KEY (EmployeeID) REFERENCES AdventureWorks2022_TRANS.HumanResources.Employee(BusinessEntityID);
ALTER TABLE AdventureWorks2022_TRANS.Purchasing.PurchaseOrderHeader ADD CONSTRAINT FK_PurchaseOrderHeader_ShipMethod_ShipMethodID FOREIGN KEY (ShipMethodID) REFERENCES AdventureWorks2022_TRANS.Purchasing.ShipMethod(ShipMethodID);
ALTER TABLE AdventureWorks2022_TRANS.Purchasing.PurchaseOrderHeader ADD CONSTRAINT FK_PurchaseOrderHeader_Vendor_VendorID FOREIGN KEY (VendorID) REFERENCES AdventureWorks2022_TRANS.Purchasing.Vendor(BusinessEntityID);


-- AdventureWorks2022_TRANS.Purchasing.Vendor foreign keys

ALTER TABLE AdventureWorks2022_TRANS.Purchasing.Vendor ADD CONSTRAINT FK_Vendor_BusinessEntity_BusinessEntityID FOREIGN KEY (BusinessEntityID) REFERENCES AdventureWorks2022_TRANS.Person.BusinessEntity(BusinessEntityID);




-- DROP SCHEMA Sales;

CREATE SCHEMA Sales;
-- AdventureWorks2022_TRANS.Sales.CreditCard definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Sales.CreditCard;

CREATE TABLE AdventureWorks2022_TRANS.Sales.CreditCard (
	CreditCardID int IDENTITY(1,1) NOT NULL,
	CardType nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	CardNumber nvarchar(25) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	ExpMonth tinyint NOT NULL,
	ExpYear smallint NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_CreditCard_CreditCardID PRIMARY KEY (CreditCardID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_CreditCard_CardNumber ON AdventureWorks2022_TRANS.Sales.CreditCard (CardNumber);


-- AdventureWorks2022_TRANS.Sales.Currency definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Sales.Currency;

CREATE TABLE AdventureWorks2022_TRANS.Sales.Currency (
	CurrencyCode nchar(3) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	Name Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_Currency_CurrencyCode PRIMARY KEY (CurrencyCode)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_Currency_Name ON AdventureWorks2022_TRANS.Sales.Currency (Name);


-- AdventureWorks2022_TRANS.Sales.SalesReason definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Sales.SalesReason;

CREATE TABLE AdventureWorks2022_TRANS.Sales.SalesReason (
	SalesReasonID int IDENTITY(1,1) NOT NULL,
	Name Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	ReasonType Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_SalesReason_SalesReasonID PRIMARY KEY (SalesReasonID)
);


-- AdventureWorks2022_TRANS.Sales.SpecialOffer definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Sales.SpecialOffer;

CREATE TABLE AdventureWorks2022_TRANS.Sales.SpecialOffer (
	SpecialOfferID int IDENTITY(1,1) NOT NULL,
	Description nvarchar(255) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	DiscountPct smallmoney DEFAULT 0.00 NOT NULL,
	[Type] nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	Category nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	StartDate datetime NOT NULL,
	EndDate datetime NOT NULL,
	MinQty int DEFAULT 0 NOT NULL,
	MaxQty int NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_SpecialOffer_SpecialOfferID PRIMARY KEY (SpecialOfferID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_SpecialOffer_rowguid ON AdventureWorks2022_TRANS.Sales.SpecialOffer (rowguid);
ALTER TABLE AdventureWorks2022_TRANS.Sales.SpecialOffer WITH NOCHECK ADD CONSTRAINT CK_SpecialOffer_EndDate CHECK (([EndDate]>=[StartDate]));
ALTER TABLE AdventureWorks2022_TRANS.Sales.SpecialOffer WITH NOCHECK ADD CONSTRAINT CK_SpecialOffer_DiscountPct CHECK (([DiscountPct]>=(0.00)));
ALTER TABLE AdventureWorks2022_TRANS.Sales.SpecialOffer WITH NOCHECK ADD CONSTRAINT CK_SpecialOffer_MinQty CHECK (([MinQty]>=(0)));
ALTER TABLE AdventureWorks2022_TRANS.Sales.SpecialOffer WITH NOCHECK ADD CONSTRAINT CK_SpecialOffer_MaxQty CHECK (([MaxQty]>=(0)));


-- AdventureWorks2022_TRANS.Sales.CurrencyRate definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Sales.CurrencyRate;

CREATE TABLE AdventureWorks2022_TRANS.Sales.CurrencyRate (
	CurrencyRateID int IDENTITY(1,1) NOT NULL,
	CurrencyRateDate datetime NOT NULL,
	FromCurrencyCode nchar(3) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	ToCurrencyCode nchar(3) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	AverageRate money NOT NULL,
	EndOfDayRate money NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_CurrencyRate_CurrencyRateID PRIMARY KEY (CurrencyRateID),
	CONSTRAINT FK_CurrencyRate_Currency_FromCurrencyCode FOREIGN KEY (FromCurrencyCode) REFERENCES AdventureWorks2022_TRANS.Sales.Currency(CurrencyCode),
	CONSTRAINT FK_CurrencyRate_Currency_ToCurrencyCode FOREIGN KEY (ToCurrencyCode) REFERENCES AdventureWorks2022_TRANS.Sales.Currency(CurrencyCode)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_CurrencyRate_CurrencyRateDate_FromCurrencyCode_ToCurrencyCode ON AdventureWorks2022_TRANS.Sales.CurrencyRate (CurrencyRateDate, FromCurrencyCode, ToCurrencyCode);


-- AdventureWorks2022_TRANS.Sales.CountryRegionCurrency definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Sales.CountryRegionCurrency;

CREATE TABLE AdventureWorks2022_TRANS.Sales.CountryRegionCurrency (
	CountryRegionCode nvarchar(3) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	CurrencyCode nchar(3) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_CountryRegionCurrency_CountryRegionCode_CurrencyCode PRIMARY KEY (CountryRegionCode,CurrencyCode)
);
CREATE NONCLUSTERED INDEX IX_CountryRegionCurrency_CurrencyCode ON AdventureWorks2022_TRANS.Sales.CountryRegionCurrency (CurrencyCode);


-- AdventureWorks2022_TRANS.Sales.Customer definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Sales.Customer;

CREATE TABLE AdventureWorks2022_TRANS.Sales.Customer (
	CustomerID int IDENTITY(1,1) NOT NULL,
	PersonID int NULL,
	StoreID int NULL,
	TerritoryID int NULL,
	AccountNumber AS (isnull('AW'+[dbo].[ufnLeadingZeros]([CustomerID]),'')) NOT NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_Customer_CustomerID PRIMARY KEY (CustomerID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_Customer_AccountNumber ON AdventureWorks2022_TRANS.Sales.Customer (AccountNumber);
CREATE UNIQUE NONCLUSTERED INDEX AK_Customer_rowguid ON AdventureWorks2022_TRANS.Sales.Customer (rowguid);
CREATE NONCLUSTERED INDEX IX_Customer_TerritoryID ON AdventureWorks2022_TRANS.Sales.Customer (TerritoryID);


-- AdventureWorks2022_TRANS.Sales.PersonCreditCard definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Sales.PersonCreditCard;

CREATE TABLE AdventureWorks2022_TRANS.Sales.PersonCreditCard (
	BusinessEntityID int NOT NULL,
	CreditCardID int NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_PersonCreditCard_BusinessEntityID_CreditCardID PRIMARY KEY (BusinessEntityID,CreditCardID)
);


-- AdventureWorks2022_TRANS.Sales.SalesOrderDetail definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Sales.SalesOrderDetail;

CREATE TABLE AdventureWorks2022_TRANS.Sales.SalesOrderDetail (
	SalesOrderID int NOT NULL,
	SalesOrderDetailID int IDENTITY(1,1) NOT NULL,
	CarrierTrackingNumber nvarchar(25) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	OrderQty smallint NOT NULL,
	ProductID int NOT NULL,
	SpecialOfferID int NOT NULL,
	UnitPrice money NOT NULL,
	UnitPriceDiscount money DEFAULT 0.0 NOT NULL,
	LineTotal AS (isnull(([UnitPrice]*((1.0)-[UnitPriceDiscount]))*[OrderQty],(0.0))) NOT NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_SalesOrderDetail_SalesOrderID_SalesOrderDetailID PRIMARY KEY (SalesOrderID,SalesOrderDetailID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_SalesOrderDetail_rowguid ON AdventureWorks2022_TRANS.Sales.SalesOrderDetail (rowguid);
CREATE NONCLUSTERED INDEX IX_SalesOrderDetail_ProductID ON AdventureWorks2022_TRANS.Sales.SalesOrderDetail (ProductID);
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesOrderDetail WITH NOCHECK ADD CONSTRAINT CK_SalesOrderDetail_OrderQty CHECK (([OrderQty]>(0)));
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesOrderDetail WITH NOCHECK ADD CONSTRAINT CK_SalesOrderDetail_UnitPrice CHECK (([UnitPrice]>=(0.00)));
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesOrderDetail WITH NOCHECK ADD CONSTRAINT CK_SalesOrderDetail_UnitPriceDiscount CHECK (([UnitPriceDiscount]>=(0.00)));


-- AdventureWorks2022_TRANS.Sales.SalesOrderHeader definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Sales.SalesOrderHeader;

CREATE TABLE AdventureWorks2022_TRANS.Sales.SalesOrderHeader (
	SalesOrderID int IDENTITY(1,1) NOT NULL,
	RevisionNumber tinyint DEFAULT 0 NOT NULL,
	OrderDate datetime DEFAULT getdate() NOT NULL,
	DueDate datetime NOT NULL,
	ShipDate datetime NULL,
	Status tinyint DEFAULT 1 NOT NULL,
	OnlineOrderFlag Flag DEFAULT 1 NOT NULL,
	SalesOrderNumber AS (isnull(N'SO'+CONVERT([nvarchar](23),[SalesOrderID]),N'*** ERROR ***')) NOT NULL,
	PurchaseOrderNumber OrderNumber COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	AccountNumber AccountNumber COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CustomerID int NOT NULL,
	SalesPersonID int NULL,
	TerritoryID int NULL,
	BillToAddressID int NOT NULL,
	ShipToAddressID int NOT NULL,
	ShipMethodID int NOT NULL,
	CreditCardID int NULL,
	CreditCardApprovalCode varchar(15) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	CurrencyRateID int NULL,
	SubTotal money DEFAULT 0.00 NOT NULL,
	TaxAmt money DEFAULT 0.00 NOT NULL,
	Freight money DEFAULT 0.00 NOT NULL,
	TotalDue AS (isnull(([SubTotal]+[TaxAmt])+[Freight],(0))) NOT NULL,
	Comment nvarchar(128) COLLATE SQL_Latin1_General_CP1_CI_AS NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_SalesOrderHeader_SalesOrderID PRIMARY KEY (SalesOrderID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_SalesOrderHeader_SalesOrderNumber ON AdventureWorks2022_TRANS.Sales.SalesOrderHeader (SalesOrderNumber);
CREATE UNIQUE NONCLUSTERED INDEX AK_SalesOrderHeader_rowguid ON AdventureWorks2022_TRANS.Sales.SalesOrderHeader (rowguid);
CREATE NONCLUSTERED INDEX IX_SalesOrderHeader_CustomerID ON AdventureWorks2022_TRANS.Sales.SalesOrderHeader (CustomerID);
CREATE NONCLUSTERED INDEX IX_SalesOrderHeader_SalesPersonID ON AdventureWorks2022_TRANS.Sales.SalesOrderHeader (SalesPersonID);
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesOrderHeader WITH NOCHECK ADD CONSTRAINT CK_SalesOrderHeader_Status CHECK (([Status]>=(0) AND [Status]<=(8)));
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesOrderHeader WITH NOCHECK ADD CONSTRAINT CK_SalesOrderHeader_DueDate CHECK (([DueDate]>=[OrderDate]));
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesOrderHeader WITH NOCHECK ADD CONSTRAINT CK_SalesOrderHeader_ShipDate CHECK (([ShipDate]>=[OrderDate] OR [ShipDate] IS NULL));
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesOrderHeader WITH NOCHECK ADD CONSTRAINT CK_SalesOrderHeader_SubTotal CHECK (([SubTotal]>=(0.00)));
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesOrderHeader WITH NOCHECK ADD CONSTRAINT CK_SalesOrderHeader_TaxAmt CHECK (([TaxAmt]>=(0.00)));
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesOrderHeader WITH NOCHECK ADD CONSTRAINT CK_SalesOrderHeader_Freight CHECK (([Freight]>=(0.00)));


-- AdventureWorks2022_TRANS.Sales.SalesOrderHeaderSalesReason definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Sales.SalesOrderHeaderSalesReason;

CREATE TABLE AdventureWorks2022_TRANS.Sales.SalesOrderHeaderSalesReason (
	SalesOrderID int NOT NULL,
	SalesReasonID int NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_SalesOrderHeaderSalesReason_SalesOrderID_SalesReasonID PRIMARY KEY (SalesOrderID,SalesReasonID)
);


-- AdventureWorks2022_TRANS.Sales.SalesPerson definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Sales.SalesPerson;

CREATE TABLE AdventureWorks2022_TRANS.Sales.SalesPerson (
	BusinessEntityID int NOT NULL,
	TerritoryID int NULL,
	SalesQuota money NULL,
	Bonus money DEFAULT 0.00 NOT NULL,
	CommissionPct smallmoney DEFAULT 0.00 NOT NULL,
	SalesYTD money DEFAULT 0.00 NOT NULL,
	SalesLastYear money DEFAULT 0.00 NOT NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_SalesPerson_BusinessEntityID PRIMARY KEY (BusinessEntityID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_SalesPerson_rowguid ON AdventureWorks2022_TRANS.Sales.SalesPerson (rowguid);
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesPerson WITH NOCHECK ADD CONSTRAINT CK_SalesPerson_SalesQuota CHECK (([SalesQuota]>(0.00)));
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesPerson WITH NOCHECK ADD CONSTRAINT CK_SalesPerson_Bonus CHECK (([Bonus]>=(0.00)));
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesPerson WITH NOCHECK ADD CONSTRAINT CK_SalesPerson_CommissionPct CHECK (([CommissionPct]>=(0.00)));
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesPerson WITH NOCHECK ADD CONSTRAINT CK_SalesPerson_SalesYTD CHECK (([SalesYTD]>=(0.00)));
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesPerson WITH NOCHECK ADD CONSTRAINT CK_SalesPerson_SalesLastYear CHECK (([SalesLastYear]>=(0.00)));


-- AdventureWorks2022_TRANS.Sales.SalesPersonQuotaHistory definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Sales.SalesPersonQuotaHistory;

CREATE TABLE AdventureWorks2022_TRANS.Sales.SalesPersonQuotaHistory (
	BusinessEntityID int NOT NULL,
	QuotaDate datetime NOT NULL,
	SalesQuota money NOT NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_SalesPersonQuotaHistory_BusinessEntityID_QuotaDate PRIMARY KEY (BusinessEntityID,QuotaDate)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_SalesPersonQuotaHistory_rowguid ON AdventureWorks2022_TRANS.Sales.SalesPersonQuotaHistory (rowguid);
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesPersonQuotaHistory WITH NOCHECK ADD CONSTRAINT CK_SalesPersonQuotaHistory_SalesQuota CHECK (([SalesQuota]>(0.00)));


-- AdventureWorks2022_TRANS.Sales.SalesTaxRate definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Sales.SalesTaxRate;

CREATE TABLE AdventureWorks2022_TRANS.Sales.SalesTaxRate (
	SalesTaxRateID int IDENTITY(1,1) NOT NULL,
	StateProvinceID int NOT NULL,
	TaxType tinyint NOT NULL,
	TaxRate smallmoney DEFAULT 0.00 NOT NULL,
	Name Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_SalesTaxRate_SalesTaxRateID PRIMARY KEY (SalesTaxRateID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_SalesTaxRate_StateProvinceID_TaxType ON AdventureWorks2022_TRANS.Sales.SalesTaxRate (StateProvinceID, TaxType);
CREATE UNIQUE NONCLUSTERED INDEX AK_SalesTaxRate_rowguid ON AdventureWorks2022_TRANS.Sales.SalesTaxRate (rowguid);
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesTaxRate WITH NOCHECK ADD CONSTRAINT CK_SalesTaxRate_TaxType CHECK (([TaxType]>=(1) AND [TaxType]<=(3)));


-- AdventureWorks2022_TRANS.Sales.SalesTerritory definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Sales.SalesTerritory;

CREATE TABLE AdventureWorks2022_TRANS.Sales.SalesTerritory (
	TerritoryID int IDENTITY(1,1) NOT NULL,
	Name Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	CountryRegionCode nvarchar(3) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	[Group] nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	SalesYTD money DEFAULT 0.00 NOT NULL,
	SalesLastYear money DEFAULT 0.00 NOT NULL,
	CostYTD money DEFAULT 0.00 NOT NULL,
	CostLastYear money DEFAULT 0.00 NOT NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_SalesTerritory_TerritoryID PRIMARY KEY (TerritoryID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_SalesTerritory_Name ON AdventureWorks2022_TRANS.Sales.SalesTerritory (Name);
CREATE UNIQUE NONCLUSTERED INDEX AK_SalesTerritory_rowguid ON AdventureWorks2022_TRANS.Sales.SalesTerritory (rowguid);
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesTerritory WITH NOCHECK ADD CONSTRAINT CK_SalesTerritory_SalesYTD CHECK (([SalesYTD]>=(0.00)));
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesTerritory WITH NOCHECK ADD CONSTRAINT CK_SalesTerritory_SalesLastYear CHECK (([SalesLastYear]>=(0.00)));
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesTerritory WITH NOCHECK ADD CONSTRAINT CK_SalesTerritory_CostYTD CHECK (([CostYTD]>=(0.00)));
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesTerritory WITH NOCHECK ADD CONSTRAINT CK_SalesTerritory_CostLastYear CHECK (([CostLastYear]>=(0.00)));


-- AdventureWorks2022_TRANS.Sales.SalesTerritoryHistory definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Sales.SalesTerritoryHistory;

CREATE TABLE AdventureWorks2022_TRANS.Sales.SalesTerritoryHistory (
	BusinessEntityID int NOT NULL,
	TerritoryID int NOT NULL,
	StartDate datetime NOT NULL,
	EndDate datetime NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_SalesTerritoryHistory_BusinessEntityID_StartDate_TerritoryID PRIMARY KEY (BusinessEntityID,StartDate,TerritoryID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_SalesTerritoryHistory_rowguid ON AdventureWorks2022_TRANS.Sales.SalesTerritoryHistory (rowguid);
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesTerritoryHistory WITH NOCHECK ADD CONSTRAINT CK_SalesTerritoryHistory_EndDate CHECK (([EndDate]>=[StartDate] OR [EndDate] IS NULL));


-- AdventureWorks2022_TRANS.Sales.ShoppingCartItem definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Sales.ShoppingCartItem;

CREATE TABLE AdventureWorks2022_TRANS.Sales.ShoppingCartItem (
	ShoppingCartItemID int IDENTITY(1,1) NOT NULL,
	ShoppingCartID nvarchar(50) COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	Quantity int DEFAULT 1 NOT NULL,
	ProductID int NOT NULL,
	DateCreated datetime DEFAULT getdate() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_ShoppingCartItem_ShoppingCartItemID PRIMARY KEY (ShoppingCartItemID)
);
CREATE NONCLUSTERED INDEX IX_ShoppingCartItem_ShoppingCartID_ProductID ON AdventureWorks2022_TRANS.Sales.ShoppingCartItem (ShoppingCartID, ProductID);
ALTER TABLE AdventureWorks2022_TRANS.Sales.ShoppingCartItem WITH NOCHECK ADD CONSTRAINT CK_ShoppingCartItem_Quantity CHECK (([Quantity]>=(1)));


-- AdventureWorks2022_TRANS.Sales.SpecialOfferProduct definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Sales.SpecialOfferProduct;

CREATE TABLE AdventureWorks2022_TRANS.Sales.SpecialOfferProduct (
	SpecialOfferID int NOT NULL,
	ProductID int NOT NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_SpecialOfferProduct_SpecialOfferID_ProductID PRIMARY KEY (SpecialOfferID,ProductID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_SpecialOfferProduct_rowguid ON AdventureWorks2022_TRANS.Sales.SpecialOfferProduct (rowguid);
CREATE NONCLUSTERED INDEX IX_SpecialOfferProduct_ProductID ON AdventureWorks2022_TRANS.Sales.SpecialOfferProduct (ProductID);


-- AdventureWorks2022_TRANS.Sales.Store definition

-- Drop table

-- DROP TABLE AdventureWorks2022_TRANS.Sales.Store;

CREATE TABLE AdventureWorks2022_TRANS.Sales.Store (
	BusinessEntityID int NOT NULL,
	Name Name COLLATE SQL_Latin1_General_CP1_CI_AS NOT NULL,
	SalesPersonID int NULL,
	Demographics xml NULL,
	rowguid uniqueidentifier DEFAULT newid() NOT NULL,
	ModifiedDate datetime DEFAULT getdate() NOT NULL,
	CONSTRAINT PK_Store_BusinessEntityID PRIMARY KEY (BusinessEntityID)
);
CREATE UNIQUE NONCLUSTERED INDEX AK_Store_rowguid ON AdventureWorks2022_TRANS.Sales.Store (rowguid);
CREATE NONCLUSTERED INDEX IX_Store_SalesPersonID ON AdventureWorks2022_TRANS.Sales.Store (SalesPersonID);
CREATE INDEX PXML_Store_Demographics ON AdventureWorks2022_TRANS.Sales.Store (Demographics);


-- AdventureWorks2022_TRANS.Sales.CountryRegionCurrency foreign keys

ALTER TABLE AdventureWorks2022_TRANS.Sales.CountryRegionCurrency ADD CONSTRAINT FK_CountryRegionCurrency_CountryRegion_CountryRegionCode FOREIGN KEY (CountryRegionCode) REFERENCES AdventureWorks2022_TRANS.Person.CountryRegion(CountryRegionCode);
ALTER TABLE AdventureWorks2022_TRANS.Sales.CountryRegionCurrency ADD CONSTRAINT FK_CountryRegionCurrency_Currency_CurrencyCode FOREIGN KEY (CurrencyCode) REFERENCES AdventureWorks2022_TRANS.Sales.Currency(CurrencyCode);


-- AdventureWorks2022_TRANS.Sales.Customer foreign keys

ALTER TABLE AdventureWorks2022_TRANS.Sales.Customer ADD CONSTRAINT FK_Customer_Person_PersonID FOREIGN KEY (PersonID) REFERENCES AdventureWorks2022_TRANS.Person.Person(BusinessEntityID);
ALTER TABLE AdventureWorks2022_TRANS.Sales.Customer ADD CONSTRAINT FK_Customer_SalesTerritory_TerritoryID FOREIGN KEY (TerritoryID) REFERENCES AdventureWorks2022_TRANS.Sales.SalesTerritory(TerritoryID);
ALTER TABLE AdventureWorks2022_TRANS.Sales.Customer ADD CONSTRAINT FK_Customer_Store_StoreID FOREIGN KEY (StoreID) REFERENCES AdventureWorks2022_TRANS.Sales.Store(BusinessEntityID);


-- AdventureWorks2022_TRANS.Sales.PersonCreditCard foreign keys

ALTER TABLE AdventureWorks2022_TRANS.Sales.PersonCreditCard ADD CONSTRAINT FK_PersonCreditCard_CreditCard_CreditCardID FOREIGN KEY (CreditCardID) REFERENCES AdventureWorks2022_TRANS.Sales.CreditCard(CreditCardID);
ALTER TABLE AdventureWorks2022_TRANS.Sales.PersonCreditCard ADD CONSTRAINT FK_PersonCreditCard_Person_BusinessEntityID FOREIGN KEY (BusinessEntityID) REFERENCES AdventureWorks2022_TRANS.Person.Person(BusinessEntityID);


-- AdventureWorks2022_TRANS.Sales.SalesOrderDetail foreign keys

ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesOrderDetail ADD CONSTRAINT FK_SalesOrderDetail_SalesOrderHeader_SalesOrderID FOREIGN KEY (SalesOrderID) REFERENCES AdventureWorks2022_TRANS.Sales.SalesOrderHeader(SalesOrderID) ON DELETE CASCADE;
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesOrderDetail ADD CONSTRAINT FK_SalesOrderDetail_SpecialOfferProduct_SpecialOfferIDProductID FOREIGN KEY (SpecialOfferID,ProductID) REFERENCES AdventureWorks2022_TRANS.Sales.SpecialOfferProduct(SpecialOfferID,ProductID);


-- AdventureWorks2022_TRANS.Sales.SalesOrderHeader foreign keys

ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesOrderHeader ADD CONSTRAINT FK_SalesOrderHeader_Address_BillToAddressID FOREIGN KEY (BillToAddressID) REFERENCES AdventureWorks2022_TRANS.Person.Address(AddressID);
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesOrderHeader ADD CONSTRAINT FK_SalesOrderHeader_Address_ShipToAddressID FOREIGN KEY (ShipToAddressID) REFERENCES AdventureWorks2022_TRANS.Person.Address(AddressID);
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesOrderHeader ADD CONSTRAINT FK_SalesOrderHeader_CreditCard_CreditCardID FOREIGN KEY (CreditCardID) REFERENCES AdventureWorks2022_TRANS.Sales.CreditCard(CreditCardID);
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesOrderHeader ADD CONSTRAINT FK_SalesOrderHeader_CurrencyRate_CurrencyRateID FOREIGN KEY (CurrencyRateID) REFERENCES AdventureWorks2022_TRANS.Sales.CurrencyRate(CurrencyRateID);
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesOrderHeader ADD CONSTRAINT FK_SalesOrderHeader_Customer_CustomerID FOREIGN KEY (CustomerID) REFERENCES AdventureWorks2022_TRANS.Sales.Customer(CustomerID);
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesOrderHeader ADD CONSTRAINT FK_SalesOrderHeader_SalesPerson_SalesPersonID FOREIGN KEY (SalesPersonID) REFERENCES AdventureWorks2022_TRANS.Sales.SalesPerson(BusinessEntityID);
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesOrderHeader ADD CONSTRAINT FK_SalesOrderHeader_SalesTerritory_TerritoryID FOREIGN KEY (TerritoryID) REFERENCES AdventureWorks2022_TRANS.Sales.SalesTerritory(TerritoryID);
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesOrderHeader ADD CONSTRAINT FK_SalesOrderHeader_ShipMethod_ShipMethodID FOREIGN KEY (ShipMethodID) REFERENCES AdventureWorks2022_TRANS.Purchasing.ShipMethod(ShipMethodID);


-- AdventureWorks2022_TRANS.Sales.SalesOrderHeaderSalesReason foreign keys

ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesOrderHeaderSalesReason ADD CONSTRAINT FK_SalesOrderHeaderSalesReason_SalesOrderHeader_SalesOrderID FOREIGN KEY (SalesOrderID) REFERENCES AdventureWorks2022_TRANS.Sales.SalesOrderHeader(SalesOrderID) ON DELETE CASCADE;
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesOrderHeaderSalesReason ADD CONSTRAINT FK_SalesOrderHeaderSalesReason_SalesReason_SalesReasonID FOREIGN KEY (SalesReasonID) REFERENCES AdventureWorks2022_TRANS.Sales.SalesReason(SalesReasonID);


-- AdventureWorks2022_TRANS.Sales.SalesPerson foreign keys

ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesPerson ADD CONSTRAINT FK_SalesPerson_Employee_BusinessEntityID FOREIGN KEY (BusinessEntityID) REFERENCES AdventureWorks2022_TRANS.HumanResources.Employee(BusinessEntityID);
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesPerson ADD CONSTRAINT FK_SalesPerson_SalesTerritory_TerritoryID FOREIGN KEY (TerritoryID) REFERENCES AdventureWorks2022_TRANS.Sales.SalesTerritory(TerritoryID);


-- AdventureWorks2022_TRANS.Sales.SalesPersonQuotaHistory foreign keys

ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesPersonQuotaHistory ADD CONSTRAINT FK_SalesPersonQuotaHistory_SalesPerson_BusinessEntityID FOREIGN KEY (BusinessEntityID) REFERENCES AdventureWorks2022_TRANS.Sales.SalesPerson(BusinessEntityID);


-- AdventureWorks2022_TRANS.Sales.SalesTaxRate foreign keys

ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesTaxRate ADD CONSTRAINT FK_SalesTaxRate_StateProvince_StateProvinceID FOREIGN KEY (StateProvinceID) REFERENCES AdventureWorks2022_TRANS.Person.StateProvince(StateProvinceID);


-- AdventureWorks2022_TRANS.Sales.SalesTerritory foreign keys

ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesTerritory ADD CONSTRAINT FK_SalesTerritory_CountryRegion_CountryRegionCode FOREIGN KEY (CountryRegionCode) REFERENCES AdventureWorks2022_TRANS.Person.CountryRegion(CountryRegionCode);


-- AdventureWorks2022_TRANS.Sales.SalesTerritoryHistory foreign keys

ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesTerritoryHistory ADD CONSTRAINT FK_SalesTerritoryHistory_SalesPerson_BusinessEntityID FOREIGN KEY (BusinessEntityID) REFERENCES AdventureWorks2022_TRANS.Sales.SalesPerson(BusinessEntityID);
ALTER TABLE AdventureWorks2022_TRANS.Sales.SalesTerritoryHistory ADD CONSTRAINT FK_SalesTerritoryHistory_SalesTerritory_TerritoryID FOREIGN KEY (TerritoryID) REFERENCES AdventureWorks2022_TRANS.Sales.SalesTerritory(TerritoryID);


-- AdventureWorks2022_TRANS.Sales.ShoppingCartItem foreign keys

ALTER TABLE AdventureWorks2022_TRANS.Sales.ShoppingCartItem ADD CONSTRAINT FK_ShoppingCartItem_Product_ProductID FOREIGN KEY (ProductID) REFERENCES AdventureWorks2022_TRANS.Production.Product(ProductID);


-- AdventureWorks2022_TRANS.Sales.SpecialOfferProduct foreign keys

ALTER TABLE AdventureWorks2022_TRANS.Sales.SpecialOfferProduct ADD CONSTRAINT FK_SpecialOfferProduct_Product_ProductID FOREIGN KEY (ProductID) REFERENCES AdventureWorks2022_TRANS.Production.Product(ProductID);
ALTER TABLE AdventureWorks2022_TRANS.Sales.SpecialOfferProduct ADD CONSTRAINT FK_SpecialOfferProduct_SpecialOffer_SpecialOfferID FOREIGN KEY (SpecialOfferID) REFERENCES AdventureWorks2022_TRANS.Sales.SpecialOffer(SpecialOfferID);


-- AdventureWorks2022_TRANS.Sales.Store foreign keys

ALTER TABLE AdventureWorks2022_TRANS.Sales.Store ADD CONSTRAINT FK_Store_BusinessEntity_BusinessEntityID FOREIGN KEY (BusinessEntityID) REFERENCES AdventureWorks2022_TRANS.Person.BusinessEntity(BusinessEntityID);
ALTER TABLE AdventureWorks2022_TRANS.Sales.Store ADD CONSTRAINT FK_Store_SalesPerson_SalesPersonID FOREIGN KEY (SalesPersonID) REFERENCES AdventureWorks2022_TRANS.Sales.SalesPerson(BusinessEntityID);
